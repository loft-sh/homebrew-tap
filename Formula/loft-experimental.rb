# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class LoftExperimental < Formula
  desc "Namespace & Virtual Cluster Manager for Kubernetes - Lightweight Virtual Clusters, Self-Service Provisioning for Engineers and 70% Cost Savings with Sleep Mode"
  homepage "https://loft.sh"
  version "3.4.7-rc.2"

  on_macos do
    on_intel do
      url "https://github.com/loft-sh/loft/releases/download/v3.4.7-rc.2/loft-darwin-amd64"
      sha256 "4d2899f115ac8ba6a40d02de8b9960354ee14e02ac720fdb68e280c4f2d8bd0e"

      def install
        bin.install "loft-darwin-amd64" => "loft"
      end
    end
    on_arm do
      url "https://github.com/loft-sh/loft/releases/download/v3.4.7-rc.2/loft-darwin-arm64"
      sha256 "dd1ce9a5764f9a6f67ea525e198a1ca6f71976e37fee931b1d85f8a8101b0e25"

      def install
        bin.install "loft-darwin-arm64" => "loft"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/loft-sh/loft/releases/download/v3.4.7-rc.2/loft-linux-amd64"
        sha256 "53233e4ab058c9925f85fc109f08bc3bd610d9ee7e30347f36c847bba1fef58b"

        def install
          bin.install "loft-linux-amd64" => "loft"
        end
      end
    end
    on_arm do
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/loft-sh/loft/releases/download/v3.4.7-rc.2/loft-linux-arm"
        sha256 "4dc1f23eca6664d9af241aad5b5621f9627927ac002fb880f553dfc9744e69f9"

        def install
          bin.install "loft-linux-arm" => "loft"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/loft-sh/loft/releases/download/v3.4.7-rc.2/loft-linux-arm64"
        sha256 "1138cdb3cead049dc4b308a0f329cc5375910faa8f8a68eaac5069b6fd59a5bc"

        def install
          bin.install "loft-linux-arm64" => "loft"
        end
      end
    end
  end

  test do
    help_output = "Loft CLI - www.loft.sh"
    assert_match help_output, shell_output("#{bin}/loft --help")
  end
end
